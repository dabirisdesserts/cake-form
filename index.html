<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dabiri's Desserts - Order Form</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #E8C7FF 0%, #D9B3FF 50%, #C297FF 100%);
            background-attachment: fixed;
            min-height: 100vh;
            height: auto;
            padding: 20px 20px 150px 20px;
            line-height: 1.6;
            overflow-x: hidden;
            overflow-y: scroll;
            max-width: 100%;
        }

        .container {
            max-width: 90%;
            margin: 0 auto;
            background: white;
            border-radius: 2%;
            box-shadow: 0 2% 4% rgba(0,0,0,0.1);
            min-height: auto;
            height: auto;
            max-height: none;
            width: 100%;
            position: relative;
            overflow: visible;
        }

        .header {
            background: url('logo_background.png') center/cover;
            color: white;
            padding: 4%;
            text-align: center;
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="60" r="2.5" fill="rgba(255,255,255,0.1)"/><circle cx="70" cy="80" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
            pointer-events: none;
        }

        .logo {
            max-width: 40%;
            margin: 0 auto 2%;
            background: white;
            border-radius: 2%;
            padding: 2%;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0.5% 1.5% rgba(0,0,0,0.1);
        }

        .logo-svg {
            width: 100%;
            height: auto;
            max-height: 120px;
            object-fit: contain;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .form-container {
            padding: 4%;
        }

        .form-section {
            margin-bottom: 4%;
            background: #f8f9fa;
            border-radius: 2%;
            padding: 3%;
            border: 2px solid #E8C7FF;
            position: relative;
        }

        .form-section h2 {
            color: #7D5577;
            margin-bottom: 25px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            user-select: none;
        }

        .section-content {
            overflow: visible;
        }

        .required {
            color: #e74c3c;
            font-weight: bold;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(25%, 1fr));
            gap: 2%;
            margin-bottom: 2%;
        }

        .form-group {
            margin-bottom: 2%;
        }

        .form-group label {
            display: block;
            margin-bottom: 1%;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1.5% 2%;
            border: 2px solid #e1e5e9;
            border-radius: 1%;
            font-size: 16px;
            transition: border-color 0.3s ease;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #A0739C;
            box-shadow: 0 0 0 3px rgba(160, 115, 156, 0.1);
        }

        .product-card {
            background: white;
            border: 2px solid #e1e5e9;
            border-radius: 1.5%;
            padding: 2%;
            margin-bottom: 3%;
            transition: all 0.3s ease;
            position: relative;
            min-height: auto;
            overflow: visible;
        }

        .product-card:hover {
            border-color: #A0739C;
            box-shadow: 0 5px 15px rgba(160, 115, 156, 0.1);
        }

        .product-card.selected {
            border-color: #A0739C;
            background: #f8f3ff;
            box-shadow: 0 5px 15px rgba(160, 115, 156, 0.2);
        }

        .product-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .product-checkbox {
            margin-right: 15px;
            transform: scale(1.2);
            accent-color: #A0739C;
        }

        .product-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #2c3e50;
            flex: 1;
        }

        .product-price {
            font-size: 1.4em;
            font-weight: bold;
            color: #A0739C;
        }

        .product-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .flavor-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        /* Override for vintage cake - stack rows vertically */
        .vintage-flavor-options {
            display: block !important;
            grid-template-columns: none !important;
            gap: 0 !important;
            margin-top: 0;
        }

        /* Cake decoration images */
        .cake-decoration-img {
            max-width: 300px;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(125, 85, 119, 0.3);
            transition: transform 0.3s ease;
        }

        .cake-decoration-img:hover {
            transform: scale(1.05);
        }

        .flavor-row {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 6px;
        }

        .flavor-label {
            min-width: 100px;
            font-weight: 500;
            color: #2c3e50;
        }

        .quantity-input {
            width: 80px !important;
            text-align: center;
        }

        .dropdown-options {
            position: relative;
        }

        .dropdown-toggle {
            background: white;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            padding: 12px 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: border-color 0.3s ease;
        }

        .dropdown-toggle:hover {
            border-color: #A0739C;
        }

        .dropdown-toggle::after {
            content: 'â–¼';
            font-size: 0.8em;
            transition: transform 0.3s ease;
        }

        .dropdown-toggle.active::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #e1e5e9;
            border-top: none;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            display: none;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-option {
            padding: 12px 15px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .dropdown-option:hover {
            background: #f8f3ff;
        }

        .dropdown-option.selected {
            background: #A0739C;
            color: white;
        }

        .file-upload-area {
            border: 2px dashed #A0739C;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8f3ff;
            margin: 20px 0;
        }

        .file-upload-area:hover {
            border-color: #7D5577;
            background: #f0e6ff;
        }

        .file-upload-area.dragover {
            border-color: #7D5577;
            background: #e8d9ff;
            transform: scale(1.02);
        }

        .upload-icon {
            font-size: 3em;
            color: #A0739C;
            margin-bottom: 15px;
        }

        .upload-text {
            font-size: 1.1em;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .upload-hint {
            font-size: 0.9em;
            color: #666;
        }

        .uploaded-files {
            margin-top: 15px;
        }

        .uploaded-file {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .file-icon {
            margin-right: 10px;
            color: #A0739C;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-weight: 500;
            color: #2c3e50;
        }

        .file-size {
            font-size: 0.9em;
            color: #666;
        }

        .remove-file {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .policy-section {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .policy-title {
            color: #856404;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .policy-text {
            color: #856404;
            line-height: 1.6;
        }

        .total-section {
            background: url('logo_background.png') center/cover;
            color: white;
            padding: 3%;
            border-radius: 2%;
            text-align: center;
            margin: 3% 0;
            box-shadow: 0 1% 2.5% rgba(155, 89, 182, 0.3);
        }

        .total-title {
            font-size: 1.5em;
            margin-bottom: 1.5%;
        }

        .total-amount {
            font-size: 3em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .submit-btn {
            width: 100%;
            padding: 2%;
            background: linear-gradient(135deg, #A0739C 0%, #7D5577 100%);
            color: white;
            border: none;
            border-radius: 1.5%;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 0.5% 1.5% rgba(155, 89, 182, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-0.2%);
            box-shadow: 0 1% 2.5% rgba(155, 89, 182, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .error-message {
            color: #e74c3c;
            font-size: 0.9em;
            margin-top: 5px;
            display: none;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            display: none;
            border: 2px solid #c3e6cb;
        }

        .brand-info {
            text-align: center;
            padding: 30px;
            background: #f8f3ff;
            margin: 20px 0;
            border-radius: 15px;
        }

        .brand-description {
            font-size: 1.1em;
            line-height: 1.8;
            color: #2c3e50;
            max-width: 800px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .form-container {
                padding: 2%;
                margin: 1%;
            }

            .form-row {
                grid-template-columns: 1fr;
                gap: 2%;
            }

            .product-details {
                grid-template-columns: 1fr;
            }

            .flavor-options {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2em;
            }

            .total-amount {
                font-size: 2.5em;
            }

            /* Mobile-specific improvements */
            .form-section {
                margin: 2% 0;
                padding: 2%;
            }

            .form-section h2 {
                font-size: 1.3em;
                margin-bottom: 2%;
            }

            .form-group {
                margin-bottom: 2%;
            }

            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 1.5%;
                font-size: 16px; /* Prevents zoom on iOS */
            }

            .product-card {
                margin: 1.5% 0;
                padding: 2%;
            }

            .product-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1.5%;
            }

            .product-title {
                font-size: 1.1em;
            }

            .product-price {
                font-size: 1.2em;
            }

            /* Stack form inputs vertically on mobile */
            .form-row .form-group {
                width: 100%;
            }

            /* Make tables horizontally scrollable on mobile */
            .product-options {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                position: relative;
            }


            .vintage-cake-header,
            .flavor-row {
                min-width: 90vw; /* Use viewport width for better responsiveness */
                display: grid !important;
                grid-template-columns: 12% 8% 18% 18% 22% !important;
                gap: 1% !important;
            }

            .vintage-cake-header > div,
            .flavor-row > div {
                display: block;
                width: auto;
                margin-bottom: 0;
            }

            /* Make selects and inputs full width on mobile */
            .product-select,
            .quantity-input {
                width: 100% !important;
                margin: 0.5% 0 !important;
            }

            /* Improve spacing for mobile */
            .item-subtotal {
                margin-top: 2% !important;
                text-align: center !important;
            }

            /* Better mobile typography */
            .policy-text {
                font-size: 0.9em;
                line-height: 1.5;
            }

            .total-section {
                padding: 3% 2%;
                margin: 3% 0;
            }

            .submit-btn {
                padding: 2%;
                font-size: 1.1em;
            }
        }

        .category-filter {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 20px;
        }

        .category-select {
            padding: 10px 15px;
            border: 2px solid #A0739C;
            border-radius: 8px;
            background: white;
            color: #2c3e50;
            font-weight: 500;
            cursor: pointer;
        }

        .red-required {
            color: red;
            font-size: 0.9em;
            margin-top: 5px;
            display: block;
        }

        .product-options {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #e1e5e9;
            margin-bottom: 20px;
            min-height: auto;
            overflow: visible;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .option-column {
            display: flex;
            flex-direction: column;
        }

        .size-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .size-row {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            background: white;
            border-radius: 6px;
            border: 1px solid #e1e5e9;
        }

        .size-row label {
            min-width: 30px;
            font-weight: 500;
            color: #2c3e50;
            margin: 0;
        }

        .product-select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e1e5e9;
            border-radius: 6px;
            background: white;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .product-select:focus {
            outline: none;
            border-color: #A0739C;
            box-shadow: 0 0 0 2px rgba(160, 115, 156, 0.1);
        }

        .item-subtotal {
            border-top: 2px solid #e1e5e9;
            padding-top: 15px;
        }

        .subtotal-amount {
            color: #A0739C;
            font-size: 1.2em;
        }

        .cake-options-table {
            background: white;
            border-radius: 8px;
            border: 2px solid #e1e5e9;
            overflow-x: auto;
            overflow-y: visible;
            -webkit-overflow-scrolling: touch;
        }

        .table-header {
            display: grid;
            grid-template-columns: 80px 60px 120px 140px 140px 180px 140px 80px;
            background: #f8f9fa;
            border-bottom: 2px solid #e1e5e9;
            font-weight: bold;
            color: #2c3e50;
            min-width: 840px;
        }

        .table-row {
            display: grid;
            grid-template-columns: 80px 60px 120px 140px 140px 180px 140px 80px;
            align-items: center;
            min-height: 50px;
            min-width: 840px;
        }

        .table-header > div,
        .table-row > div {
            padding: 12px 8px;
            border-right: 1px solid #e1e5e9;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .table-header > div:last-child,
        .table-row > div:last-child {
            border-right: none;
        }

        .col-size select,
        .col-qty input,
        .col-flavor select,
        .col-filling select,
        .col-border select,
        .col-addons select,
        .col-text select {
            width: 100%;
            padding: 6px;
            border: 1px solid #e1e5e9;
            border-radius: 4px;
            font-size: 12px;
        }

        .col-qty input {
            text-align: center;
            max-width: 50px;
        }

        .col-price {
            font-weight: bold;
            color: #A0739C;
        }

        @media (max-width: 1024px) and (min-width: 769px) {
            .table-header,
            .table-row {
                grid-template-columns: 60px 50px 100px 120px 120px 140px 120px 70px;
                font-size: 12px;
                min-width: 780px;
            }

            .table-header > div,
            .table-row > div {
                padding: 8px 4px;
            }
        }

        .cupcake-options-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #e1e5e9;
            min-height: auto;
            height: auto;
            max-height: none;
            overflow: visible;
        }

        .flavors-section,
        .addons-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e1e5e9;
        }

        .flavor-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .flavor-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            background: #f8f9fa;
            border-radius: 6px;
            border: 1px solid #e1e5e9;
        }

        .flavor-item label {
            font-weight: 500;
            color: #2c3e50;
            margin: 0;
        }

        .flavor-item input {
            width: 80px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            font-size: 14px;
        }

        .addon-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #A0739C;
            border-radius: 6px;
            font-size: 14px;
            background: white;
        }

        @media (max-width: 768px) {
            .cupcake-options-layout {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        /* Ensure all content is visible and scrollable */
        html {
            overflow-x: hidden;
            overflow-y: scroll;
            height: auto;
            min-height: 100vh;
            max-height: none;
        }

        .form-container {
            min-height: auto;
            height: auto;
            overflow: visible;
        }

        .category-content {
            overflow: visible;
            min-height: auto;
            height: auto;
        }

        /* Ensure product options expand properly */
        .product-options {
            position: relative;
            z-index: 1;
        }

        /* Add extra space at bottom of form */
        form {
            padding-bottom: 200px;
            min-height: auto;
            height: auto;
            max-height: none;
            overflow: visible;
        }

        /* Ensure no viewport restrictions */
        * {
            max-height: none !important;
        }

        /* Special handling for expanded product options */
        .product-card.selected {
            margin-bottom: 40px;
            position: relative;
            z-index: 10;
        }

        .product-card.selected .product-options {
            margin-bottom: 30px;
            position: relative;
            z-index: 10;
        }

        /* Prevent overlap on mobile */
        @media (max-width: 768px) {
            .product-card {
                margin-bottom: 20px;
                position: relative;
                z-index: 1;
            }

            .product-card.selected {
                margin-bottom: 60px;
                z-index: 20;
            }

            .product-card.selected .product-options {
                margin-bottom: 40px;
                z-index: 20;
            }

            /* Ensure proper spacing between cards */
            .product-card + .product-card {
                margin-top: 20px;
            }
        }

        /* Force scroll behavior for long content */
        body, html {
            scroll-behavior: smooth;
        }

        /* Prevent any element from being clipped */
        .cake-options-table,
        .options-grid,
        .flavor-list,
        .flavor-item {
            overflow: visible !important;
            height: auto !important;
            max-height: none !important;
        }

        /* Vintage cake layout */
        .vintage-cake-header {
            background: #f8f9fa;
            border-radius: 8px 8px 0 0;
            padding: 15px 10px 10px 10px;
        }

        .flavor-options .flavor-row {
            display: grid;
            grid-template-columns: 100px 70px 120px 120px 150px;
            gap: 8px;
            align-items: center;
            padding: 12px 8px;
            border-bottom: 1px solid #f0f0f0;
            background: white;
            margin-bottom: 2px;
        }

        .flavor-options .flavor-row:last-child {
            border-bottom: none;
            border-radius: 0 0 8px 8px;
        }

        /* Additional mobile adjustments for specific elements */
        @media (max-width: 768px) {
            /* Make vintage cake options vertical like regular cakes */
            .vintage-flavor-options {
                margin: 0;
                border-radius: 8px;
                border: 1px solid #e1e5e9;
                width: 100%;
                background: white;
                overflow: visible;
            }

            /* Hide the vintage cake header on mobile */
            .vintage-cake-header {
                display: none !important;
            }

            .vintage-flavor-options .flavor-row {
                display: block !important;
                padding: 20px !important;
                background: white !important;
                margin-bottom: 15px !important;
                border-radius: 10px !important;
                border: 2px solid #e1e5e9 !important;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05) !important;
                min-height: auto !important;
                min-width: auto !important;
                grid-template-columns: none !important;
                gap: 0 !important;
            }

            .vintage-flavor-options .flavor-row:last-child {
                margin-bottom: 0 !important;
            }

            .vintage-flavor-options .flavor-row > * {
                width: 100% !important;
                padding: 0 !important;
                border-right: none !important;
                display: block !important;
                margin: 10px 0 !important;
            }

            /* Style existing labels and form elements properly */
            .vintage-flavor-options .flavor-label {
                font-weight: bold !important;
                color: #A0739C !important;
                font-size: 18px !important;
                margin-bottom: 15px !important;
                display: block !important;
                padding: 10px 0 !important;
                border-bottom: 2px solid #e1e5e9 !important;
                text-align: center !important;
            }

            .vintage-flavor-options .quantity-input {
                width: 100% !important;
                padding: 12px !important;
                font-size: 16px !important;
                border: 2px solid #e1e5e9 !important;
                border-radius: 8px !important;
                box-sizing: border-box !important;
                margin: 10px 0 !important;
                background: white !important;
                display: block !important;
            }

            .vintage-flavor-options .product-select {
                width: 100% !important;
                padding: 12px !important;
                font-size: 16px !important;
                border: 2px solid #e1e5e9 !important;
                border-radius: 8px !important;
                box-sizing: border-box !important;
                margin: 10px 0 !important;
                background: white !important;
                display: block !important;
                color: #333 !important;
            }

            /* Add visible labels before form elements */
            .vintage-flavor-options .quantity-input::before {
                content: "Quantity:";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                display: block;
                margin-bottom: 8px;
            }

            .vintage-flavor-options .product-select[data-addon-type="filling"]::before {
                content: "Filling:";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                display: block;
                margin-bottom: 8px;
            }

            .vintage-flavor-options .product-select[data-addon-type="border"]::before {
                content: "Border:";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                display: block;
                margin-bottom: 8px;
            }

            .vintage-flavor-options .product-select[data-addon-type="addons"]::before {
                content: "Add-Ons:";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                display: block;
                margin-bottom: 8px;
            }

            /* Better mobile layout for regular flavor options */
            .flavor-options {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                position: relative;
            }


            .flavor-options .flavor-row {
                display: grid !important;
                grid-template-columns: 1fr 80px !important;
                gap: 10px !important;
                margin-bottom: 10px;
                padding: 8px;
                border: 1px solid #e1e5e9;
                border-radius: 8px;
                min-width: 200px;
            }

            .flavor-options .flavor-row > div {
                display: flex;
                align-items: center;
                width: auto;
            }

            .flavor-options .flavor-label {
                flex: 1;
                margin-right: 10px;
                font-size: 0.9em;
            }

            .flavor-options .quantity-input {
                width: 60px !important;
                margin: 0 !important;
                font-size: 0.9em;
            }

            /* Improve contrast for size values and subtotals */
            .col-size,
            .size-label,
            .item-subtotal,
            .subtotal-text {
                color: #333 !important;
                font-weight: 500 !important;
            }

            /* Ensure table headers are visible */
            .table-header > div,
            .vintage-cake-header > div {
                color: #A0739C !important;
                font-weight: bold !important;
            }

            /* Improve contrast for form labels */
            .form-group label,
            .flavor-label {
                color: #333 !important;
                font-weight: 500 !important;
            }

            /* Vertical mobile layout for cake options */
            .cake-options-table {
                margin: 0;
                border-radius: 8px;
                border: 1px solid #e1e5e9;
                width: 100%;
                background: white;
                overflow: visible;
            }

            /* Hide the horizontal table headers on mobile */
            .cake-options-table .table-header {
                display: none;
            }

            /* Stack table rows vertically - use CSS Grid for better control */
            .cake-options-table .table-row {
                display: grid !important;
                grid-template-columns: 1fr !important;
                grid-template-rows: repeat(8, auto) !important;
                gap: 15px !important;
                padding: 20px !important;
                background: white !important;
                margin-bottom: 15px !important;
                border-radius: 10px !important;
                border: 2px solid #e1e5e9 !important;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05) !important;
                align-items: stretch !important;
                min-height: auto !important;
                min-width: auto !important;
            }

            .cake-options-table .table-row:last-child {
                border-bottom: none !important;
                margin-bottom: 0 !important;
            }

            /* Ensure each column takes full width and stacks vertically */
            .cake-options-table .table-row > div {
                width: 100% !important;
                padding: 0 !important;
                border-right: none !important;
                display: flex !important;
                flex-direction: column !important;
                gap: 8px !important;
            }

            /* Create labels using CSS content */
            .cake-options-table .col-size::before {
                content: "Size";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                order: -1;
            }

            .cake-options-table .col-qty::before {
                content: "Quantity";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                order: -1;
            }

            .cake-options-table .col-flavor::before {
                content: "Flavor";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                order: -1;
            }

            .cake-options-table .col-filling::before {
                content: "Filling";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                order: -1;
            }

            .cake-options-table .col-border::before {
                content: "Border";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                order: -1;
            }

            .cake-options-table .col-addons::before {
                content: "Add-Ons";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                order: -1;
            }

            .cake-options-table .col-text::before {
                content: "Text";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                order: -1;
            }

            /* Style form controls */
            .cake-options-table .table-row select,
            .cake-options-table .table-row input[type="number"],
            .cake-options-table .table-row input[type="text"] {
                width: 100% !important;
                padding: 12px !important;
                font-size: 16px !important;
                border: 2px solid #e1e5e9 !important;
                border-radius: 8px !important;
                box-sizing: border-box !important;
                margin: 0 !important;
                background: white !important;
                display: block !important;
                max-width: none !important;
                min-width: auto !important;
            }

            .cake-options-table .table-row select:focus,
            .cake-options-table .table-row input:focus {
                border-color: #A0739C;
                outline: none;
                box-shadow: 0 0 0 3px rgba(160, 115, 156, 0.1);
            }

            /* Price display styling */
            .cake-options-table .col-price {
                font-weight: bold !important;
                color: #A0739C !important;
                font-size: 18px !important;
                text-align: center !important;
                padding: 12px !important;
                background: #f8f3ff !important;
                border-radius: 8px !important;
                border: 2px solid #e8d5f7 !important;
                display: flex !important;
                flex-direction: column !important;
                gap: 8px !important;
                width: 100% !important;
                box-sizing: border-box !important;
            }

            .cake-options-table .col-price::before {
                content: "Subtotal";
                font-weight: bold;
                color: #A0739C;
                font-size: 14px;
                order: -1;
            }

            .product-options {
                position: relative;
                margin-bottom: 20px;
                width: 100%;
                padding: 15px;
                background: #f8f9fa;
                border-radius: 8px;
                box-sizing: border-box;
            }

            /* Additional mobile layout optimizations */
            .form-container {
                padding: 15px;
                margin: 10px;
                max-width: calc(100vw - 20px);
            }

            .product-card {
                margin: 15px 0;
                padding: 15px;
                border-radius: 12px;
                width: 100%;
                max-width: 100%;
                box-sizing: border-box;
                position: relative;
            }

            .product-header {
                margin-bottom: 15px;
            }

            .product-title {
                font-size: 1.2em;
                margin-bottom: 5px;
            }

            .product-price {
                font-size: 1.3em;
                font-weight: bold;
            }

            /* Ensure proper spacing for expanded options */
            .product-options {
                margin-top: 15px;
                padding: 15px;
                background: #f8f9fa;
                border-radius: 8px;
            }

            /* Better mobile form spacing */
            .form-section {
                margin: 20px 0;
                padding: 15px;
            }

            .form-section h2 {
                margin-bottom: 15px;
                font-size: 1.4em;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 12px;
                font-size: 16px;
                border-radius: 8px;
            }
        }

        .flavor-options .flavor-row .flavor-label {
            font-weight: 500;
            color: #2c3e50;
        }

        .flavor-options .flavor-row .quantity-input {
            width: 100%;
            max-width: 70px;
            margin: 0;
        }

        .flavor-options .flavor-row .product-select {
            width: 100%;
            margin: 0 !important;
            font-size: 12px;
            padding: 6px;
        }

        /* Floating Action Buttons */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            left: 0;
            right: 0;
            pointer-events: none;
            z-index: 1000;
        }

        .floating-btn {
            position: fixed;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 4px solid white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5), 0 0 0 2px rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
            pointer-events: auto;
            z-index: 1001;
        }

        .floating-btn:hover {
            transform: translateY(-4px) scale(1.1);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.6), 0 0 0 3px rgba(255, 255, 255, 1);
        }

        .theme-toggle-btn {
            left: 30px;
            bottom: 30px;
            background: linear-gradient(135deg, #A0739C 0%, #7D5577 100%);
            color: white;
            opacity: 1;
            visibility: visible;
        }

        .scroll-top-btn {
            right: 30px;
            bottom: 30px;
            background: linear-gradient(135deg, #A0739C 0%, #7D5577 100%);
            color: white;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .scroll-top-btn.visible {
            opacity: 1;
            visibility: visible;
        }

        /* Dark Mode Styles */
        [data-theme="dark"] {
            --bg-primary: #2a1f2a;
            --bg-secondary: #3d2f3d;
            --bg-tertiary: #4a3a4a;
            --text-primary: #FCFCEC;
            --text-secondary: #FDF2D6;
            --text-muted: #835E84;
            --border-color: #6a5a6a;
            --border-strong: #7a6a7a;
            --shadow-color: rgba(131, 94, 132, 0.3);
            --accent-purple: #835E84;
            --accent-yellow: #FCFCEC;
            --accent-yellow-dark: #FDF2D6;
        }

        [data-theme="dark"] body {
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        [data-theme="dark"] .container {
            background: var(--bg-primary);
        }

        [data-theme="dark"] .form-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
        }

        [data-theme="dark"] .form-section {
            background: var(--bg-tertiary);
            border: 2px solid var(--border-strong);
            box-shadow: 0 4px 12px rgba(131, 94, 132, 0.2);
        }

        [data-theme="dark"] .form-section h2 {
            color: var(--accent-yellow);
        }

        [data-theme="dark"] .form-section h3 {
            color: var(--text-secondary);
        }

        [data-theme="dark"] .form-group input,
        [data-theme="dark"] .form-group textarea,
        [data-theme="dark"] .form-group select {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        [data-theme="dark"] .form-group input:focus,
        [data-theme="dark"] .form-group textarea:focus,
        [data-theme="dark"] .form-group select:focus {
            border-color: var(--accent-purple);
            box-shadow: 0 0 0 2px rgba(131, 94, 132, 0.3);
        }

        [data-theme="dark"] .product-card {
            background: var(--bg-tertiary);
            border: 2px solid var(--border-strong);
            box-shadow: 0 2px 8px rgba(131, 94, 132, 0.15);
        }

        [data-theme="dark"] .product-title {
            color: var(--accent-yellow);
        }

        [data-theme="dark"] .product-price {
            color: var(--accent-purple);
        }

        [data-theme="dark"] .flavor-label {
            color: var(--text-secondary);
        }

        [data-theme="dark"] .quantity-input {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        [data-theme="dark"] .product-select {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        [data-theme="dark"] .policy-section {
            background: var(--bg-tertiary);
            border: 2px solid var(--border-strong);
            box-shadow: 0 2px 8px rgba(131, 94, 132, 0.15);
        }

        [data-theme="dark"] .policy-text {
            color: var(--text-secondary);
        }

        [data-theme="dark"] .total-section {
            background: url('logo_background.png') center/cover;
            color: white;
        }

        [data-theme="dark"] .submit-btn {
            background: linear-gradient(135deg, var(--accent-purple) 0%, #6a4a6a 100%);
            color: var(--accent-yellow);
        }

        [data-theme="dark"] .submit-btn:hover {
            background: linear-gradient(135deg, #9a6e9a 0%, #7a5a7a 100%);
            color: var(--accent-yellow);
        }

        [data-theme="dark"] .file-upload-area {
            background: var(--bg-secondary);
            border: 2px dashed var(--border-color);
            color: var(--text-secondary);
        }

        [data-theme="dark"] .file-upload-area:hover {
            border-color: var(--accent-purple);
            background: var(--bg-tertiary);
        }

        [data-theme="dark"] .uploaded-file {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        [data-theme="dark"] .category-select {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        [data-theme="dark"] .logo {
            background: white;
        }

        /* Additional Dark Mode Enhancements */
        [data-theme="dark"] .category-filter h4 {
            color: var(--accent-yellow);
        }

        [data-theme="dark"] .subtotal-amount {
            color: var(--accent-purple);
        }

        [data-theme="dark"] .item-subtotal {
            color: var(--text-secondary);
        }

        [data-theme="dark"] .item-subtotal .subtotal-amount {
            color: var(--accent-purple);
        }

        [data-theme="dark"] .vintage-cake-header {
            color: var(--accent-yellow);
            border-bottom-color: var(--border-color);
        }

        [data-theme="dark"] .required {
            color: var(--accent-purple);
        }

        [data-theme="dark"] .policy-text a {
            color: var(--accent-yellow);
        }

        [data-theme="dark"] .policy-text a:hover {
            color: var(--accent-purple);
        }

        /* Dark mode overrides for inline styles */
        [data-theme="dark"] h3[style*="color: #7D5577"] {
            color: var(--accent-yellow) !important;
        }

        [data-theme="dark"] h4[style*="color: #7D5577"] {
            color: var(--accent-yellow) !important;
        }

        [data-theme="dark"] h4[style*="color: #A0739C"] {
            color: var(--accent-purple) !important;
        }

        [data-theme="dark"] div[style*="color: #666"] {
            color: var(--text-secondary) !important;
        }

        [data-theme="dark"] p[style*="color: #666"] {
            color: var(--text-secondary) !important;
        }

        [data-theme="dark"] .vintage-cake-header[style*="color: #A0739C"] {
            color: var(--accent-yellow) !important;
            border-bottom-color: var(--border-color) !important;
        }

        [data-theme="dark"] .error-message {
            color: #ff6b6b !important;
        }

        [data-theme="dark"] .success-message {
            background: rgba(131, 94, 132, 0.2) !important;
            color: var(--accent-yellow) !important;
            border: 1px solid var(--accent-purple) !important;
        }

        [data-theme="dark"] .form-group label {
            color: var(--accent-yellow) !important;
        }

        /* Responsive adjustments for floating buttons */
        @media (max-width: 768px) {
            .floating-btn {
                width: 60px;
                height: 60px;
                font-size: 24px;
                border: 3px solid white;
            }

            .theme-toggle-btn {
                left: 20px;
                bottom: 20px;
            }

            .scroll-top-btn {
                right: 20px;
                bottom: 20px;
            }
        }

        /* Extra small mobile devices */
        @media (max-width: 480px) {
            .form-container {
                padding: 10px;
                margin: 5px;
            }

            .header {
                padding: 20px 15px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .form-section {
                padding: 10px;
                margin: 10px 0;
            }

            .form-section h2 {
                font-size: 1.2em;
            }

            .product-card {
                padding: 10px;
            }

            .total-section {
                padding: 15px 10px;
            }

            .total-amount {
                font-size: 2em;
            }

            .floating-btn {
                width: 50px;
                height: 50px;
                font-size: 18px;
            }

            .theme-toggle-btn {
                left: 15px;
                bottom: 15px;
            }

            .scroll-top-btn {
                right: 15px;
                bottom: 15px;
            }
        }
    </style>
</head>
    <body>
        <!-- Hidden form for Netlify to detect during build -->
        <form name="dessert-order" netlify netlify-honeypot="bot-field" hidden>
            <input type="text" name="firstName" />
            <input type="text" name="lastName" />
            <input type="email" name="email" />
            <input type="tel" name="phone" />
            <input type="date" name="pickupDate" />
            <input type="time" name="pickupTime" />
            <textarea name="customItems"></textarea>
            <textarea name="moodBoard"></textarea>
            <textarea name="cakeText"></textarea>
            <textarea name="colorRequests"></textarea>
            <textarea name="customFlavor"></textarea>
            <textarea name="specialInstructions"></textarea>
            <textarea name="allergies"></textarea>
            <input type="text" name="hearAbout" />
            <input type="checkbox" name="agreement" />
            <input type="hidden" name="bot-field" />
        </form>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <img src="logo.png" alt="Dabiri's Desserts - Cakes" class="logo-svg">
            </div>
            <h1>Order Form</h1>
            <p>Create your perfect custom dessert order</p>
        </div>

        <div class="form-container">
            <form id="dessertOrderForm" name="dessert-order" method="POST" data-netlify="true" data-netlify-honeypot="bot-field">
                <!-- Hidden honeypot field for spam protection -->
                <div style="display: none;">
                    <label>Don't fill this out if you're human: <input name="bot-field" /></label>
                </div>

                <!-- Brand Description -->
                <div class="brand-info">
                    <div class="brand-description">
                        <strong>Thanks for choosing Dabiri's Desserts!</strong><br><br>
                        As a passionate at-home baker, I pour my heart into every creation that comes out of my kitchen, and I'm thrilled to bring a touch of sweetness to your day. All of my treats are made from scratch, decorated with my vanilla buttercream frosting. Before placing your order, please take a moment to review my policies below.
                    </div>
                </div>

                <!-- Customer Information -->
                <div class="form-section">
                    <h2>Customer Information</h2>
                    <div class="section-content">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name <span class="required">*</span></label>
                            <input type="text" id="firstName" name="firstName" required>
                            <div class="error-message" id="firstNameError"></div>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name <span class="required">*</span></label>
                            <input type="text" id="lastName" name="lastName" required>
                            <div class="error-message" id="lastNameError"></div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                                <label for="email">E-mail <span class="required">*</span></label>
                                <input type="email" id="email" name="email" placeholder="example@example.com" required>
                            <div class="error-message" id="emailError"></div>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number <span class="required">*</span></label>
                                <input type="tel" id="phone" name="phone" placeholder="(000) 000-0000" required>
                                <small>please enter a valid phone number</small>
                            <div class="error-message" id="phoneError"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pickup Information -->
                <div class="form-section">
                    <h2>Pickup Information</h2>
                    <div class="section-content">
                        <div class="policy-section">
                            <div class="policy-title">PICKUP TIMES</div>
                            <div class="policy-text">
                                Wednesday - All day<br>
                                Weekends - All day<br><br>
                                When will you be arriving for pick up?<br><br>
                                â€¢ Please submit your order at least <strong>10 days</strong> in advance. Last-minute orders may be subject to a <strong>$20 rush fee</strong>.
                            </div>
                        </div>

                    <div class="form-row">
                        <div class="form-group">
                                <label for="pickupDate">Pickup Date <span class="required">*</span></label>
                                <input type="date" id="pickupDate" name="pickupDate" required>
                        </div>
                        <div class="form-group">
                                <label for="pickupTime">Pickup Time</label>
                                <input type="time" id="pickupTime" name="pickupTime" placeholder="HH : MM">
                                <small>Hour Minutes</small>
                            </div>
                        </div>

                        <div class="policy-section">
                            <div class="policy-text">
                                <strong>IF THE DATE YOU WANT ISN'T AVAILABLE, PLEASE KEEP IN MIND CAKES LAST UP TO 4 DAYS IN THE FRIDGE AND UP TO 2 WEEKS IN THE FREEZER.</strong>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Products Section -->
                <div class="form-section">
                    <h2>Choose Your Products</h2>
                    <div class="section-content">
                        <div class="category-filter">
                            <select class="category-select" id="categoryFilter">
                                <option value="all">Categories: All</option>
                                <option value="cakes">Cakes</option>
                                <option value="cupcakes">Cupcakes</option>
                                <option value="deals">Deals & Packages</option>
                            </select>
                        </div>

                        <div class="policy-section">
                            <div class="policy-text">
                                The prices below are <strong>base</strong> prices.<br>
                                *All cakes will be <strong>three layers</strong>*<br>
                                Additional add-ons can be selected.
                    </div>
                        </div>

                        <!-- My Products Header -->
                        <div style="text-align: center; margin: 20px 0;">
                            <img src="cake_1.png" alt="Beautiful purple cake with flowers" class="cake-decoration-img">
                        </div>
                        <h3 style="color: #7D5577; margin: 30px 0 20px 0; font-size: 1.5em;">My Products <span class="required">*</span></h3>
                        <span class="red-required">âš  This field is required.</span>

                        <!-- Cakes Section -->
                        <div class="product-category" data-category="cakes">
                            <h4 style="color: #7D5577; margin: 20px 0 15px 0; font-size: 1.3em; display: flex; align-items: center;">
                                Cakes
                            </h4>
                            <div class="category-content">
                                <!-- Circle Cake -->
                                <div class="product-card" data-product="circle-cake">
                                    <div class="product-header">
                                        <input type="checkbox" class="product-checkbox" id="circle-cake" name="products" value="circle-cake">
                                        <label for="circle-cake" class="product-title">Circle Cake</label>
                                        <span class="product-price">$45.00</span>
                                    </div>
                                    <div class="product-options" style="margin-top: 20px;">
                                        <div class="cake-options-table">
                                            <div class="table-header">
                                                <div class="col-size">Size</div>
                                                <div class="col-qty">Qty</div>
                                                <div class="col-flavor">Flavor</div>
                                                <div class="col-filling">Filling</div>
                                                <div class="col-border">Border</div>
                                                <div class="col-addons">Add-Ons</div>
                                                <div class="col-text">Text</div>
                                                <div class="col-price">Price</div>
                                            </div>
                                            <div class="table-row">
                                                <div class="col-size">6"</div>
                                                <div class="col-qty">
                                                    <input type="number" class="quantity-input" min="0" value="0" data-price="45">
                                                </div>
                                                <div class="col-flavor">
                                                    <select class="product-select" data-addon-type="flavor">
                                <option value="vanilla">Vanilla</option>
                                <option value="chocolate">Chocolate</option>
                                <option value="red-velvet">Red Velvet</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                            </select>
                        </div>
                                                <div class="col-filling">
                                                    <select class="product-select" data-addon-type="filling">
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="cookies-cream">Cookies & Cream</option>
                                                        <option value="vanilla">Vanilla</option>
                                <option value="cream-cheese">Cream Cheese</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                            </select>
                        </div>
                                                <div class="col-border">
                                                    <select class="product-select" data-addon-type="border">
                                                        <option value="none">No Border</option>
                                                        <option value="shell">Shell Border</option>
                                                        <option value="tight-shell">Tight Shell Border</option>
                                                        <option value="reverse-scroll">Reverse Scroll Border</option>
                                                        <option value="bubble">Bubble Border</option>
                                                    </select>
                                                </div>
                                                <div class="col-addons">
                                                    <select class="product-select" data-addon-type="addons">
                                                        <option value="none">No Add-Ons</option>
                                                        <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                        <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                        <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                        <option value="bows" data-price="5">Bows +$5</option>
                                                        <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                        <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-text">
                                                    <select class="product-select" data-addon-type="text">
                                                        <option value="none">No Text</option>
                                                        <option value="freehand">Freehand Buttercream</option>
                                                        <option value="bubble-letters">Chocolate Bubble Letters</option>
                                                    </select>
                                                </div>
                                                <div class="col-price">
                                                    $<span class="row-price">0.00</span>
                                                </div>
                                            </div>
                                            <div class="table-row">
                                                <div class="col-size">8"</div>
                                                <div class="col-qty">
                                                    <input type="number" class="quantity-input" min="0" value="0" data-price="55">
                                                </div>
                                                <div class="col-flavor">
                                                    <select class="product-select" data-addon-type="flavor">
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="red-velvet">Red Velvet</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-filling">
                                                    <select class="product-select" data-addon-type="filling">
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="cookies-cream">Cookies & Cream</option>
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="cream-cheese">Cream Cheese</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-border">
                                                    <select class="product-select" data-addon-type="border">
                                                        <option value="none">No Border</option>
                                                        <option value="shell">Shell Border</option>
                                                        <option value="tight-shell">Tight Shell Border</option>
                                                        <option value="reverse-scroll">Reverse Scroll Border</option>
                                                        <option value="bubble">Bubble Border</option>
                                                    </select>
                                                </div>
                                                <div class="col-addons">
                                                    <select class="product-select" data-addon-type="addons">
                                                        <option value="none">No Add-Ons</option>
                                                        <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                        <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                        <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                        <option value="bows" data-price="5">Bows +$5</option>
                                                        <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                        <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-text">
                                                    <select class="product-select" data-addon-type="text">
                                                        <option value="none">No Text</option>
                                                        <option value="freehand">Freehand Buttercream</option>
                                                        <option value="bubble-letters">Chocolate Bubble Letters</option>
                                                    </select>
                                                </div>
                                                <div class="col-price">
                                                    $<span class="row-price">0.00</span>
                                                </div>
                                            </div>
                                            <div class="table-row">
                                                <div class="col-size">10"</div>
                                                <div class="col-qty">
                                                    <input type="number" class="quantity-input" min="0" value="0" data-price="65">
                                                </div>
                                                <div class="col-flavor">
                                                    <select class="product-select" data-addon-type="flavor">
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="red-velvet">Red Velvet</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-filling">
                                                    <select class="product-select" data-addon-type="filling">
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="cookies-cream">Cookies & Cream</option>
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="cream-cheese">Cream Cheese</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-border">
                                                    <select class="product-select" data-addon-type="border">
                                                        <option value="none">No Border</option>
                                                        <option value="shell">Shell Border</option>
                                                        <option value="tight-shell">Tight Shell Border</option>
                                                        <option value="reverse-scroll">Reverse Scroll Border</option>
                                                        <option value="bubble">Bubble Border</option>
                                                    </select>
                                                </div>
                                                <div class="col-addons">
                                                    <select class="product-select" data-addon-type="addons">
                                                        <option value="none">No Add-Ons</option>
                                                        <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                        <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                        <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                        <option value="bows" data-price="5">Bows +$5</option>
                                                        <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                        <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-text">
                                                    <select class="product-select" data-addon-type="text">
                                                        <option value="none">No Text</option>
                                                        <option value="freehand">Freehand Buttercream</option>
                                                        <option value="bubble-letters">Chocolate Bubble Letters</option>
                                                    </select>
                                                </div>
                                                <div class="col-price">
                                                    $<span class="row-price">0.00</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="item-subtotal" style="text-align: right; margin-top: 20px; font-size: 1.1em; color: #666;">
                                            Item subtotal: <strong class="subtotal-amount">$0.00</strong>
                                        </div>
                    </div>
                </div>

                                <!-- Heart Cake -->
                                <div class="product-card" data-product="heart-cake">
                                    <div class="product-header">
                                        <input type="checkbox" class="product-checkbox" id="heart-cake" name="products" value="heart-cake">
                                        <label for="heart-cake" class="product-title">Heart Cake</label>
                                        <span class="product-price">$45.00</span>
                        </div>
                                    <div class="product-options" style="margin-top: 20px;">
                                        <div class="cake-options-table">
                                            <div class="table-header">
                                                <div class="col-size">Size</div>
                                                <div class="col-qty">Qty</div>
                                                <div class="col-flavor">Flavor</div>
                                                <div class="col-filling">Filling</div>
                                                <div class="col-border">Border</div>
                                                <div class="col-addons">Add-Ons</div>
                                                <div class="col-text">Text</div>
                                                <div class="col-price">Price</div>
                        </div>
                                            <div class="table-row">
                                                <div class="col-size">6"</div>
                                                <div class="col-qty">
                                                    <input type="number" class="quantity-input" min="0" value="0" data-price="45">
                        </div>
                                                <div class="col-flavor">
                                                    <select class="product-select" data-addon-type="flavor">
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="red-velvet">Red Velvet</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                        </div>
                                                <div class="col-filling">
                                                    <select class="product-select" data-addon-type="filling">
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="cookies-cream">Cookies & Cream</option>
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="cream-cheese">Cream Cheese</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                        </div>
                                                <div class="col-border">
                                                    <select class="product-select" data-addon-type="border">
                                                        <option value="none">No Border</option>
                                                        <option value="shell">Shell Border</option>
                                                        <option value="tight-shell">Tight Shell Border</option>
                                                        <option value="reverse-scroll">Reverse Scroll Border</option>
                                                        <option value="bubble">Bubble Border</option>
                                                    </select>
                        </div>
                                                <div class="col-addons">
                                                    <select class="product-select" data-addon-type="addons">
                                                        <option value="none">No Add-Ons</option>
                                                        <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                        <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                        <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                        <option value="bows" data-price="5">Bows +$5</option>
                                                        <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                        <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-text">
                                                    <select class="product-select" data-addon-type="text">
                                                        <option value="none">No Text</option>
                                                        <option value="freehand">Freehand Buttercream</option>
                                                        <option value="bubble-letters">Chocolate Bubble Letters</option>
                                                    </select>
                                                </div>
                                                <div class="col-price">
                                                    $<span class="row-price">0.00</span>
                                                </div>
                                            </div>
                                            <div class="table-row">
                                                <div class="col-size">8"</div>
                                                <div class="col-qty">
                                                    <input type="number" class="quantity-input" min="0" value="0" data-price="55">
                                                </div>
                                                <div class="col-flavor">
                                                    <select class="product-select" data-addon-type="flavor">
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="red-velvet">Red Velvet</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-filling">
                                                    <select class="product-select" data-addon-type="filling">
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="cookies-cream">Cookies & Cream</option>
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="cream-cheese">Cream Cheese</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-border">
                                                    <select class="product-select" data-addon-type="border">
                                                        <option value="none">No Border</option>
                                                        <option value="shell">Shell Border</option>
                                                        <option value="tight-shell">Tight Shell Border</option>
                                                        <option value="reverse-scroll">Reverse Scroll Border</option>
                                                        <option value="bubble">Bubble Border</option>
                                                    </select>
                                                </div>
                                                <div class="col-addons">
                                                    <select class="product-select" data-addon-type="addons">
                                                        <option value="none">No Add-Ons</option>
                                                        <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                        <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                        <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                        <option value="bows" data-price="5">Bows +$5</option>
                                                        <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                        <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-text">
                                                    <select class="product-select" data-addon-type="text">
                                                        <option value="none">No Text</option>
                                                        <option value="freehand">Freehand Buttercream</option>
                                                        <option value="bubble-letters">Chocolate Bubble Letters</option>
                                                    </select>
                                                </div>
                                                <div class="col-price">
                                                    $<span class="row-price">0.00</span>
                                                </div>
                                            </div>
                                            <div class="table-row">
                                                <div class="col-size">10"</div>
                                                <div class="col-qty">
                                                    <input type="number" class="quantity-input" min="0" value="0" data-price="65">
                                                </div>
                                                <div class="col-flavor">
                                                    <select class="product-select" data-addon-type="flavor">
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="red-velvet">Red Velvet</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                        </div>
                                                <div class="col-filling">
                                                    <select class="product-select" data-addon-type="filling">
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="cookies-cream">Cookies & Cream</option>
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="cream-cheese">Cream Cheese</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                        </div>
                                                <div class="col-border">
                                                    <select class="product-select" data-addon-type="border">
                                                        <option value="none">No Border</option>
                                                        <option value="shell">Shell Border</option>
                                                        <option value="tight-shell">Tight Shell Border</option>
                                                        <option value="reverse-scroll">Reverse Scroll Border</option>
                                                        <option value="bubble">Bubble Border</option>
                                                    </select>
                                                </div>
                                                <div class="col-addons">
                                                    <select class="product-select" data-addon-type="addons">
                                                        <option value="none">No Add-Ons</option>
                                                        <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                        <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                        <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                        <option value="bows" data-price="5">Bows +$5</option>
                                                        <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                        <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-text">
                                                    <select class="product-select" data-addon-type="text">
                                                        <option value="none">No Text</option>
                                                        <option value="freehand">Freehand Buttercream</option>
                                                        <option value="bubble-letters">Chocolate Bubble Letters</option>
                                                    </select>
                                                </div>
                                                <div class="col-price">
                                                    $<span class="row-price">0.00</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="item-subtotal" style="text-align: right; margin-top: 20px; font-size: 1.1em; color: #666;">
                                            Item subtotal: <strong class="subtotal-amount">$0.00</strong>
                                        </div>
                    </div>
                </div>

                                <!-- Star Cake -->
                                <div class="product-card" data-product="star-cake">
                                    <div class="product-header">
                                        <input type="checkbox" class="product-checkbox" id="star-cake" name="products" value="star-cake">
                                        <label for="star-cake" class="product-title">Star Cake</label>
                                        <span class="product-price">$45.00</span>
                                    </div>
                                    <div class="product-options" style="margin-top: 20px;">
                                        <div class="cake-options-table">
                                            <div class="table-header">
                                                <div class="col-size">Size</div>
                                                <div class="col-qty">Qty</div>
                                                <div class="col-flavor">Flavor</div>
                                                <div class="col-filling">Filling</div>
                                                <div class="col-border">Border</div>
                                                <div class="col-addons">Add-Ons</div>
                                                <div class="col-text">Text</div>
                                                <div class="col-price">Price</div>
                                            </div>
                                            <div class="table-row">
                                                <div class="col-size">6"</div>
                                                <div class="col-qty">
                                                    <input type="number" class="quantity-input" min="0" value="0" data-price="45">
                                                </div>
                                                <div class="col-flavor">
                                                    <select class="product-select" data-addon-type="flavor">
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="red-velvet">Red Velvet</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-filling">
                                                    <select class="product-select" data-addon-type="filling">
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="cookies-cream">Cookies & Cream</option>
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="cream-cheese">Cream Cheese</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-border">
                                                    <select class="product-select" data-addon-type="border">
                                                        <option value="none">No Border</option>
                                                        <option value="shell">Shell Border</option>
                                                        <option value="tight-shell">Tight Shell Border</option>
                                                        <option value="reverse-scroll">Reverse Scroll Border</option>
                                                        <option value="bubble">Bubble Border</option>
                                                    </select>
                                                </div>
                                                <div class="col-addons">
                                                    <select class="product-select" data-addon-type="addons">
                                                        <option value="none">No Add-Ons</option>
                                                        <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                        <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                        <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                        <option value="bows" data-price="5">Bows +$5</option>
                                                        <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                        <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-text">
                                                    <select class="product-select" data-addon-type="text">
                                                        <option value="none">No Text</option>
                                                        <option value="freehand">Freehand Buttercream</option>
                                                        <option value="bubble-letters">Chocolate Bubble Letters</option>
                                                    </select>
                                                </div>
                                                <div class="col-price">
                                                    $<span class="row-price">0.00</span>
                                                </div>
                                            </div>
                                            <div class="table-row">
                                                <div class="col-size">8"</div>
                                                <div class="col-qty">
                                                    <input type="number" class="quantity-input" min="0" value="0" data-price="55">
                                                </div>
                                                <div class="col-flavor">
                                                    <select class="product-select" data-addon-type="flavor">
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="red-velvet">Red Velvet</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-filling">
                                                    <select class="product-select" data-addon-type="filling">
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="cookies-cream">Cookies & Cream</option>
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="cream-cheese">Cream Cheese</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-border">
                                                    <select class="product-select" data-addon-type="border">
                                                        <option value="none">No Border</option>
                                                        <option value="shell">Shell Border</option>
                                                        <option value="tight-shell">Tight Shell Border</option>
                                                        <option value="reverse-scroll">Reverse Scroll Border</option>
                                                        <option value="bubble">Bubble Border</option>
                                                    </select>
                                                </div>
                                                <div class="col-addons">
                                                    <select class="product-select" data-addon-type="addons">
                                                        <option value="none">No Add-Ons</option>
                                                        <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                        <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                        <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                        <option value="bows" data-price="5">Bows +$5</option>
                                                        <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                        <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-text">
                                                    <select class="product-select" data-addon-type="text">
                                                        <option value="none">No Text</option>
                                                        <option value="freehand">Freehand Buttercream</option>
                                                        <option value="bubble-letters">Chocolate Bubble Letters</option>
                                                    </select>
                                                </div>
                                                <div class="col-price">
                                                    $<span class="row-price">0.00</span>
                                                </div>
                                            </div>
                                            <div class="table-row">
                                                <div class="col-size">10"</div>
                                                <div class="col-qty">
                                                    <input type="number" class="quantity-input" min="0" value="0" data-price="65">
                                                </div>
                                                <div class="col-flavor">
                                                    <select class="product-select" data-addon-type="flavor">
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="red-velvet">Red Velvet</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-filling">
                                                    <select class="product-select" data-addon-type="filling">
                                                        <option value="chocolate">Chocolate</option>
                                                        <option value="cookies-cream">Cookies & Cream</option>
                                                        <option value="vanilla">Vanilla</option>
                                                        <option value="cream-cheese">Cream Cheese</option>
                                                        <option value="custom" data-price="5">Custom +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-border">
                                                    <select class="product-select" data-addon-type="border">
                                                        <option value="none">No Border</option>
                                                        <option value="shell">Shell Border</option>
                                                        <option value="tight-shell">Tight Shell Border</option>
                                                        <option value="reverse-scroll">Reverse Scroll Border</option>
                                                        <option value="bubble">Bubble Border</option>
                                                    </select>
                                                </div>
                                                <div class="col-addons">
                                                    <select class="product-select" data-addon-type="addons">
                                                        <option value="none">No Add-Ons</option>
                                                        <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                        <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                        <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                        <option value="bows" data-price="5">Bows +$5</option>
                                                        <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                        <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                    </select>
                                                </div>
                                                <div class="col-text">
                                                    <select class="product-select" data-addon-type="text">
                                                        <option value="none">No Text</option>
                                                        <option value="freehand">Freehand Buttercream</option>
                                                        <option value="bubble-letters">Chocolate Bubble Letters</option>
                                                    </select>
                                                </div>
                                                <div class="col-price">
                                                    $<span class="row-price">0.00</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="item-subtotal" style="text-align: right; margin-top: 20px; font-size: 1.1em; color: #666;">
                                            Item subtotal: <strong class="subtotal-amount">$0.00</strong>
                                        </div>
                                    </div>
                                </div>
                    </div>
                </div>

                        <!-- Cupcakes Section -->
                        <div class="product-category" data-category="cupcakes">
                            <h4 style="color: #7D5577; margin: 20px 0 15px 0; font-size: 1.3em; display: flex; align-items: center;">
                                Cupcakes
                            </h4>
                            <div class="category-content">
                                <!-- 1/2 Dozen Cupcakes -->
                                <div class="product-card" data-product="half-dozen-cupcakes">
                                    <div class="product-header">
                                        <input type="checkbox" class="product-checkbox" id="half-dozen-cupcakes" name="products" value="half-dozen-cupcakes">
                                        <label for="half-dozen-cupcakes" class="product-title">1/2 Dozen Cupcakes</label>
                                        <span class="product-price">$14.00</span>
                                    </div>
                                    <p>$14 for 1/2 Dozen Cupcakes. Please specify the quantity of each flavor.</p>
                                    <div class="product-options" style="margin-top: 20px;">
                                        <div class="cupcake-options-layout">
                                            <div class="flavors-section">
                                                <h4 style="margin: 0 0 15px 0; color: #A0739C; font-size: 1.1em;">Flavors ($14 for 1/2 dozen each)</h4>
                                                <div class="flavor-list">
                                                    <div class="flavor-item">
                                                        <label>Vanilla</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="14" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Chocolate</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="14" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Red Velvet</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="14" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Custom (+$5)</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="19" placeholder="0">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="addons-section">
                                                <h4 style="margin: 0 0 15px 0; color: #A0739C; font-size: 1.1em;">Add-Ons</h4>
                                                <select class="product-select addon-select" data-addon-type="addons">
                                                    <option value="none">No Add-Ons</option>
                                                    <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                    <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                    <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                    <option value="bows" data-price="5">Bows +$5</option>
                                                    <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                    <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="item-subtotal" style="text-align: right; margin-top: 20px; font-size: 1.1em; color: #666;">
                                            Item subtotal: <strong class="subtotal-amount">$0.00</strong>
                                        </div>
                                    </div>
                                </div>

                                <!-- 1 Dozen Cupcakes -->
                                <div class="product-card" data-product="dozen-cupcakes">
                                    <div class="product-header">
                                        <input type="checkbox" class="product-checkbox" id="dozen-cupcakes" name="products" value="dozen-cupcakes">
                                        <label for="dozen-cupcakes" class="product-title">1 Dozen Cupcakes</label>
                                        <span class="product-price">$24.00</span>
                                    </div>
                                    <p>$24 for 1 Dozen Cupcakes. Please specify the quantity of each flavor.</p>
                                    <div class="product-options" style="margin-top: 20px;">
                                        <div class="cupcake-options-layout">
                                            <div class="flavors-section">
                                                <h4 style="margin: 0 0 15px 0; color: #A0739C; font-size: 1.1em;">Flavors ($24 for 1 dozen each)</h4>
                                                <div class="flavor-list">
                                                    <div class="flavor-item">
                                                        <label>Vanilla</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="24" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Chocolate</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="24" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Red Velvet</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="24" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Custom (+$5)</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="29" placeholder="0">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="addons-section">
                                                <h4 style="margin: 0 0 15px 0; color: #A0739C; font-size: 1.1em;">Add-Ons</h4>
                                                <select class="product-select addon-select" data-addon-type="addons">
                                                    <option value="none">No Add-Ons</option>
                                                    <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                    <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                    <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                    <option value="bows" data-price="5">Bows +$5</option>
                                                    <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                    <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="item-subtotal" style="text-align: right; margin-top: 20px; font-size: 1.1em; color: #666;">
                                            Item subtotal: <strong class="subtotal-amount">$0.00</strong>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>


                        <!-- Deals & Packages Section -->
                        <div class="product-category" data-category="deals">
                            <h4 style="color: #7D5577; margin: 20px 0 15px 0; font-size: 1.3em; display: flex; align-items: center;">
                                Deals & Packages
                            </h4>
                            <div class="category-content">
                                <!-- Vintage Heart Cake -->
                                <div class="product-card" data-product="vintage-heart-cake">
                                    <div class="product-header">
                                        <input type="checkbox" class="product-checkbox" id="vintage-heart-cake" name="products" value="vintage-heart-cake">
                                        <label for="vintage-heart-cake" class="product-title">Vintage Heart Cake</label>
                                        <span class="product-price">$65.00</span>
                                    </div>
                                    <p>Heavy Buttercream Piping</p>
                                    <div class="product-options" style="margin-top: 20px;">
                                        <div class="vintage-cake-header" style="display: grid; grid-template-columns: 100px 70px 120px 120px 150px; gap: 8px; margin-bottom: 15px; font-weight: bold; color: #A0739C; border-bottom: 2px solid #e1e5e9; padding-bottom: 10px;">
                                            <div>Flavor</div>
                                            <div>Quantity</div>
                                            <div>Filling</div>
                                            <div>Border</div>
                                            <div>Add-Ons</div>
                                        </div>
                                        <div class="flavor-options vintage-flavor-options">
                                            <div class="flavor-row">
                                                <span class="flavor-label">Vanilla</span>
                                                <input type="number" class="quantity-input" min="0" value="0" data-flavor="vanilla" data-price="65">
                                                <select class="product-select" data-addon-type="filling" style="margin-left: 10px;">
                                                    <option value="chocolate">Chocolate</option>
                                                    <option value="cookies-cream">Cookies & Cream</option>
                                                    <option value="vanilla">Vanilla</option>
                                                    <option value="custom" data-price="5">Custom +$5</option>
                                                </select>
                                                <select class="product-select" data-addon-type="border" style="margin-left: 10px;">
                                                    <option value="none">No Border</option>
                                                    <option value="shell">Shell Border</option>
                                                    <option value="tight-shell">Tight Shell Border</option>
                                                    <option value="reverse-scroll">Reverse Scroll Border</option>
                                                    <option value="bubble">Bubble Border</option>
                                                </select>
                                                <select class="product-select" data-addon-type="addons" style="margin-left: 10px;">
                                                    <option value="none">No Add-Ons</option>
                                                    <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                    <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                    <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                    <option value="bows" data-price="5">Bows +$5</option>
                                                    <option value="vintage-piping" data-price="5">Heavy/Vintage Piping +$5</option>
                                                    <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                </select>
                                            </div>
                                            <div class="flavor-row">
                                                <span class="flavor-label">Chocolate</span>
                                                <input type="number" class="quantity-input" min="0" value="0" data-flavor="chocolate" data-price="65">
                                                <select class="product-select" data-addon-type="filling" style="margin-left: 10px;">
                                                    <option value="chocolate">Chocolate</option>
                                                    <option value="cookies-cream">Cookies & Cream</option>
                                                    <option value="vanilla">Vanilla</option>
                                                    <option value="custom" data-price="5">Custom +$5</option>
                                                </select>
                                                <select class="product-select" data-addon-type="border" style="margin-left: 10px;">
                                                    <option value="none">No Border</option>
                                                    <option value="shell">Shell Border</option>
                                                    <option value="tight-shell">Tight Shell Border</option>
                                                    <option value="reverse-scroll">Reverse Scroll Border</option>
                                                    <option value="bubble">Bubble Border</option>
                                                </select>
                                                <select class="product-select" data-addon-type="addons" style="margin-left: 10px;">
                                                    <option value="none">No Add-Ons</option>
                                                    <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                    <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                    <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                    <option value="bows" data-price="5">Bows +$5</option>
                                                    <option value="vintage-piping" data-price="5">Heavy/Vintage Piping +$5</option>
                                                    <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                </select>
                                            </div>
                                            <div class="flavor-row">
                                                <span class="flavor-label">Red Velvet</span>
                                                <input type="number" class="quantity-input" min="0" value="0" data-flavor="red-velvet" data-price="65">
                                                <select class="product-select" data-addon-type="filling" style="margin-left: 10px;">
                                                    <option value="chocolate">Chocolate</option>
                                                    <option value="cookies-cream">Cookies & Cream</option>
                                                    <option value="vanilla">Vanilla</option>
                                                    <option value="custom" data-price="5">Custom +$5</option>
                                                </select>
                                                <select class="product-select" data-addon-type="border" style="margin-left: 10px;">
                                                    <option value="none">No Border</option>
                                                    <option value="shell">Shell Border</option>
                                                    <option value="tight-shell">Tight Shell Border</option>
                                                    <option value="reverse-scroll">Reverse Scroll Border</option>
                                                    <option value="bubble">Bubble Border</option>
                                                </select>
                                                <select class="product-select" data-addon-type="addons" style="margin-left: 10px;">
                                                    <option value="none">No Add-Ons</option>
                                                    <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                    <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                    <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                    <option value="bows" data-price="5">Bows +$5</option>
                                                    <option value="vintage-piping" data-price="5">Heavy/Vintage Piping +$5</option>
                                                    <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                </select>
                                            </div>
                                            <div class="flavor-row">
                                                <span class="flavor-label">Custom +$5</span>
                                                <input type="number" class="quantity-input" min="0" value="0" data-flavor="custom" data-price="70">
                                                <select class="product-select" data-addon-type="filling" style="margin-left: 10px;">
                                                    <option value="chocolate">Chocolate</option>
                                                    <option value="cookies-cream">Cookies & Cream</option>
                                                    <option value="vanilla">Vanilla</option>
                                                    <option value="custom" data-price="5">Custom +$5</option>
                                                </select>
                                                <select class="product-select" data-addon-type="border" style="margin-left: 10px;">
                                                    <option value="none">No Border</option>
                                                    <option value="shell">Shell Border</option>
                                                    <option value="tight-shell">Tight Shell Border</option>
                                                    <option value="reverse-scroll">Reverse Scroll Border</option>
                                                    <option value="bubble">Bubble Border</option>
                                                </select>
                                                <select class="product-select" data-addon-type="addons" style="margin-left: 10px;">
                                                    <option value="none">No Add-Ons</option>
                                                    <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                    <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                    <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                    <option value="bows" data-price="5">Bows +$5</option>
                                                    <option value="vintage-piping" data-price="5">Heavy/Vintage Piping +$5</option>
                                                    <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="item-subtotal" style="text-align: right; margin-top: 20px; font-size: 1.1em; color: #666;">
                                            Item subtotal: <strong class="subtotal-amount">$0.00</strong>
                                        </div>
                                    </div>
                                </div>

                                <!-- Birthday 1/2 Dozen Cupcakes -->
                                <div class="product-card" data-product="birthday-half-dozen-cupcakes">
                                    <div class="product-header">
                                        <input type="checkbox" class="product-checkbox" id="birthday-half-dozen-cupcakes" name="products" value="birthday-half-dozen-cupcakes">
                                        <label for="birthday-half-dozen-cupcakes" class="product-title">Birthday 1/2 Dozen Cupcakes</label>
                                        <span class="product-price">$30.00</span>
                                    </div>
                                    <p>w/ Custom Board and Candle</p>
                                    <div class="product-options" style="margin-top: 20px;">
                                        <div class="cupcake-options-layout">
                                            <div class="flavors-section">
                                                <h4 style="margin: 0 0 15px 0; color: #A0739C; font-size: 1.1em;">Flavors ($30 for 1/2 dozen w/ Board & Candle)</h4>
                                                <div class="flavor-list">
                                                    <div class="flavor-item">
                                                        <label>Vanilla</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="30" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Chocolate</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="30" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Red Velvet</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="30" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Custom (+$5)</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="35" placeholder="0">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="addons-section">
                                                <h4 style="margin: 0 0 15px 0; color: #A0739C; font-size: 1.1em;">Add-Ons</h4>
                                                <select class="product-select addon-select" data-addon-type="addons">
                                                    <option value="none">No Add-Ons</option>
                                                    <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                    <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                    <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                    <option value="bows" data-price="5">Bows +$5</option>
                                                    <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                    <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="item-subtotal" style="text-align: right; margin-top: 20px; font-size: 1.1em; color: #666;">
                                            Item subtotal: <strong class="subtotal-amount">$0.00</strong>
                                        </div>
                                    </div>
                                </div>

                                <!-- Birthday Full Dozen Cupcakes -->
                                <div class="product-card" data-product="birthday-full-dozen-cupcakes">
                                    <div class="product-header">
                                        <input type="checkbox" class="product-checkbox" id="birthday-full-dozen-cupcakes" name="products" value="birthday-full-dozen-cupcakes">
                                        <label for="birthday-full-dozen-cupcakes" class="product-title">Birthday Full Dozen Cupcakes</label>
                                        <span class="product-price">$35.00</span>
                                    </div>
                                    <p>w/ Custom Board and Candle</p>
                                    <div class="product-options" style="margin-top: 20px;">
                                        <div class="cupcake-options-layout">
                                            <div class="flavors-section">
                                                <h4 style="margin: 0 0 15px 0; color: #A0739C; font-size: 1.1em;">Flavors ($35 for 1 dozen w/ Board & Candle)</h4>
                                                <div class="flavor-list">
                                                    <div class="flavor-item">
                                                        <label>Vanilla</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="35" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Chocolate</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="35" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Red Velvet</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="35" placeholder="0">
                                                    </div>
                                                    <div class="flavor-item">
                                                        <label>Custom (+$5)</label>
                                                        <input type="number" class="quantity-input" min="0" value="0" data-price="40" placeholder="0">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="addons-section">
                                                <h4 style="margin: 0 0 15px 0; color: #A0739C; font-size: 1.1em;">Add-Ons</h4>
                                                <select class="product-select addon-select" data-addon-type="addons">
                                                    <option value="none">No Add-Ons</option>
                                                    <option value="glitter-silver" data-price="3">Glitter Spray (Silver) +$3</option>
                                                    <option value="glitter-gold" data-price="3">Glitter Spray (Gold) +$3</option>
                                                    <option value="pearl-detailing" data-price="5">Pearl Detailing +$5</option>
                                                    <option value="bows" data-price="5">Bows +$5</option>
                                                    <option value="vintage-piping" data-price="5">Heavy/Vintage Buttercream Piping +$5</option>
                                                    <option value="gold-leaf" data-price="5">Gold Leaf +$5</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="item-subtotal" style="text-align: right; margin-top: 20px; font-size: 1.1em; color: #666;">
                                            Item subtotal: <strong class="subtotal-amount">$0.00</strong>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Custom Items Section -->
                <div class="form-section">
                    <h2>Custom Items</h2>
                    <div class="section-content">
                        <div class="form-group">
                            <p style="margin-bottom: 15px; color: #666; font-size: 0.95em;">
                                Don't see what you're looking for? Let me know about any custom items like cookies, bread puddings, or other desserts you'd like to order.
                            </p>
                            <textarea
                                id="customItems"
                                name="customItems"
                                placeholder="Please describe any custom items you'd like to order (e.g., cookies, bread pudding, etc.) and any specific requirements..."
                                rows="4"
                                style="width: 100%; padding: 12px; border: 2px solid #e1e5e9; border-radius: 8px; font-family: inherit; font-size: 14px; resize: vertical; min-height: 100px;"
                            ></textarea>
                        </div>
                    </div>
                </div>

                <!-- Design/Aesthetic Requests -->
                <div class="form-section">
                    <h2>Design/Aesthetic Requests <span class="required">*</span></h2>
                    <div class="section-content">
                        <div class="form-group">
                            <textarea style="min-height: 100px;" placeholder="Please write N/A if you'd like us to use our creative freedom. If purchasing multiple products, please number them in the text box." required></textarea>
                        </div>

                        <h3 style="margin: 20px 0;">Attach a mood board or inspiration pictures below. Please note I do not replicate the work of other cake artists. I will use my personal decorating style and best judgment to make you a cake that you love!</h3>

                        <div class="file-upload-area" id="fileUploadArea">
                            <div class="upload-icon">â˜ï¸</div>
                            <div class="upload-text">Browse Files</div>
                            <div class="upload-hint">Drag and drop files here</div>
                            <input type="file" id="fileInput" multiple accept="image/*" style="display: none;">
                        </div>
                        <div class="uploaded-files" id="uploadedFiles"></div>
                        </div>
                        </div>

                <!-- Cake Text -->
                <div class="form-section">
                    <h2>Cake Text <span class="required">*</span></h2>
                    <div class="section-content">
                        <div class="form-group">
                            <textarea placeholder="Please specify text and text color. If purchasing multiple cakes, please number them in the text box." required></textarea>
                        </div>
                    </div>
                </div>

                <!-- Color Requests -->
                <div class="form-section">
                    <h2>Color Requests <span class="required">*</span></h2>
                    <div class="section-content">
                        <div class="form-group">
                            <textarea placeholder="PLEASE NOTE: Extra pigmented colors are $5 extra (navy blue, royal blue, black, red, etc). Please write N/A if you'd like us to use our creative freedom. If purchasing multiple products, please number them in the text box." required></textarea>
                        </div>
                    </div>
                </div>

                <!-- Custom Flavor/Filling -->
                <div class="form-section">
                    <h2>OPTIONAL: Custom Flavor/Filling</h2>
                    <div class="section-content">
                    <div class="form-group">
                            <textarea placeholder="Please specify the custom flavor and/or filling if applicable."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Additional Specifications -->
                <div class="form-section">
                    <h2>ATTENTION: List any other specifications or add-ons that aren't listed as options. <span class="required">*</span></h2>
                    <div class="section-content">
                        <div class="form-group">
                            <textarea required></textarea>
                        </div>
                    </div>
                </div>

                <!-- Allergies/Dietary Restrictions -->
                <div class="form-section">
                    <h2>Do you have any allergies/dietary restrictions? Please note, I do NOT make gluten free cakes. <span class="required">*</span></h2>
                    <div class="section-content">
                        <div class="form-group">
                            <textarea required></textarea>
                        </div>
                        <div class="policy-section">
                            <div class="policy-text">
                                Although I will do my very best to accommodate your dietary restrictions, all of my products are produced in a home kitchen that is not subject to public health inspection and may process common food allergens. Please be advised that baked goods may contain or come into contact with peanuts, tree nuts, or other allergens.
                    </div>
                        </div>
                    </div>
                </div>

                <!-- How did you hear about us -->
                <div class="form-section">
                    <h2>How did you hear about Dabiri's Desserts? <span class="required">*</span></h2>
                    <div class="section-content">
                    <div class="form-group">
                            <textarea required></textarea>
                        </div>
                    </div>
                </div>

                <!-- Policies Section -->
                <div class="policy-section">
                    <div class="policy-text">
                        â€¢ All orders must be picked up in <strong>Chelsea, MA</strong> (near Bellingham Square bus stop). I <strong>do not</strong> offer delivery services.<br><br>
                        â€¢ Please submit your order at least <strong>10 days</strong> in advance. Last-minute orders may be subject to a <strong>$20 rush fee</strong>.<br><br>
                        â€¢ Once you submit an order, I will email you within <strong>3 business days</strong> with a sketch of your order and a price confirmation.<br><br>
                        â€¢ A <strong>50% deposit</strong> is required to secure your order. The remaining balance is due at pickup.<br><br>
                        â€¢ I accept the following payment methods: <strong>Apple Cash, Zelle, Venmo, or cash</strong>.<br><br>
                        â€¢ <strong>ALLERGY ALERT:</strong> My frosting recipe contains nut products. Please do not place an order if you have nut allergies.<br><br>
                        â€¢ Please note that I am not responsible or liable for what happens to the dessert after it has been handed off to you.<br><br>
                        â€¢ Payment details and final confirmation process will be provided in the follow-up email.<br><br>
                        For any questions or special requests, please contact me at <a href="mailto:dabirisdesserts@gmail.com">dabirisdesserts@gmail.com</a>
                    </div>
                </div>

                <!-- Agreement -->
                <div class="form-section">
                    <h2>Agreement <span class="required">*</span></h2>
                    <div class="section-content">
                        <div class="form-group">
                            <label style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer;">
                                <input type="radio" id="agreement" name="agreement" value="agree" required style="margin-top: 5px;">
                                <span>By checking this box, I agree to Dabiri's Dessert's brand policies and acknowledge that full cake payment is due within 72 hours of receiving my invoice.</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Total Section -->
                <div class="total-section">
                    <div class="total-title">Total (Subject to Change)</div>
                    <div class="total-amount" id="totalAmount">$0.00</div>
                </div>

                <!-- Success Message -->
                <div class="success-message" id="successMessage">
                    <strong>Order Submitted Successfully!</strong><br>
                    Thank you for your order! I will contact you within 3 business days with a sketch of your order and price confirmation.
                </div>

                <!-- Submit Button -->
                <button type="submit" class="submit-btn" id="submitBtn">Submit</button>

                <!-- Decorative cake image after form -->
                <div style="text-align: center; margin: 40px 0 20px 0;">
                    <img src="cake_2.png" alt="Elegant tiered cake with purple flowers" class="cake-decoration-img">
                </div>
            </form>
        </div>
    </div>

    <script>
        // Product pricing
        const productPrices = {
            'circle-cake': 45.00,
            'heart-cake': 0,
            'star-cake': 0,
            'half-dozen-cupcakes': 14.00,
            'dozen-cupcakes': 24.00,
            'birthday-2dozen-cupcakes': 45.00,
            'vintage-heart-cake': 65.00,
            'birthday-half-dozen-cupcakes': 30.00,
            'birthday-full-dozen-cupcakes': 35.00
        };

        const addonPrices = {
            'glitter-silver': 3,
            'glitter-gold': 3,
            'pearl-detailing': 5,
            'bows': 5,
            'vintage-piping': 5,
            'gold-leaf': 5,
            'custom': 5
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            initializeFileUpload();
            checkFormCompletion();
            setMinPickupDate();
            calculateTotal();
        });

        function initializeEventListeners() {
            // Product selection
            document.querySelectorAll('.product-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const card = this.closest('.product-card');
                    const options = card.querySelector('.product-options');

                    if (this.checked) {
                        card.classList.add('selected');
                    } else {
                        card.classList.remove('selected');
                    }
                    calculateItemSubtotal(card);
                    calculateTotal();
                    checkFormCompletion();
                });
            });

            // Quantity inputs
            document.querySelectorAll('.quantity-input').forEach(input => {
                input.addEventListener('input', function() {
                    const card = this.closest('.product-card');
                    calculateItemSubtotal(card);
                    calculateTotal();
                });
            });

            // Product selects (add-ons, flavors, etc.)
            document.querySelectorAll('.product-select').forEach(select => {
                select.addEventListener('change', function() {
                    const card = this.closest('.product-card');
                    calculateItemSubtotal(card);
                    calculateTotal();
                });
            });


            // Category filter
            document.getElementById('categoryFilter').addEventListener('change', filterCategories);

            // Form validation
            document.querySelectorAll('input[required], textarea[required], select[required]').forEach(field => {
                field.addEventListener('input', checkFormCompletion);
                field.addEventListener('change', checkFormCompletion);
            });

            // Agreement radio
            document.getElementById('agreement').addEventListener('change', checkFormCompletion);

            // Form submission
            // Remove JavaScript form handling - let Netlify handle it natively

            // Other selects (non-product specific)
            document.querySelectorAll('select:not(.product-select)').forEach(select => {
                select.addEventListener('change', calculateTotal);
            });
        }


        function initializeFileUpload() {
            const uploadArea = document.getElementById('fileUploadArea');
            const fileInput = document.getElementById('fileInput');
            const uploadedFiles = document.getElementById('uploadedFiles');

            uploadArea.addEventListener('click', () => fileInput.click());

            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('dragover');
            });

            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
            });

            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
                const files = e.dataTransfer.files;
                handleFiles(files);
            });

            fileInput.addEventListener('change', function() {
                handleFiles(this.files);
            });

            function handleFiles(files) {
                Array.from(files).forEach(file => {
                    if (file.type.startsWith('image/')) {
                        displayFile(file);
                    }
                });
            }

            function displayFile(file) {
                const fileDiv = document.createElement('div');
                fileDiv.className = 'uploaded-file';
                fileDiv.innerHTML = `
                    <span class="file-icon">ðŸ“·</span>
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-size">${(file.size / 1024 / 1024).toFixed(2)} MB</div>
                    </div>
                    <button type="button" class="remove-file" onclick="this.parentElement.remove()">Ã—</button>
                `;
                uploadedFiles.appendChild(fileDiv);
            }
        }

        function filterCategories() {
            const selectedCategory = document.getElementById('categoryFilter').value;
            const categories = document.querySelectorAll('.product-category');

            categories.forEach(category => {
                const categoryType = category.dataset.category;
                if (selectedCategory === 'all' || selectedCategory === categoryType) {
                    category.style.display = 'block';
                } else {
                    category.style.display = 'none';
                }
            });
        }

        function calculateItemSubtotal(productCard) {
            const checkbox = productCard.querySelector('.product-checkbox');
            const subtotalElement = productCard.querySelector('.subtotal-amount');
            const rowPriceElement = productCard.querySelector('.row-price');

            if (!checkbox.checked || !subtotalElement) {
                if (subtotalElement) subtotalElement.textContent = '$0.00';
                if (rowPriceElement) rowPriceElement.textContent = '0.00';
                return;
            }

            const productValue = checkbox.value;
            let itemTotal = 0;

            // Check if this is a cake with table layout
            const tableRows = productCard.querySelectorAll('.table-row');
            if (tableRows.length > 0) {
                // Handle cake table layout (multiple rows for different sizes)
                tableRows.forEach(row => {
                    const quantityInput = row.querySelector('.quantity-input');
                    const rowPrice = row.querySelector('.row-price');
                    const quantity = parseInt(quantityInput.value) || 0;

                    let rowTotal = 0;

                    if (quantity > 0) {
                        // Get base price from the quantity input's data-price
                        const sizePrice = parseFloat(quantityInput.dataset.price) || 0;
                        rowTotal = sizePrice * quantity;

                        // Add addon pricing from this row's selects
                        const selects = row.querySelectorAll('.product-select');
                        selects.forEach(select => {
                            const selectedOption = select.options[select.selectedIndex];
                            const addonPrice = parseFloat(selectedOption.dataset.price) || 0;
                            rowTotal += addonPrice;
                        });
                    }

                    // Update row price display
                    if (rowPrice) {
                        rowPrice.textContent = rowTotal.toFixed(2);
                    }

                    // Add to item total
                    itemTotal += rowTotal;
                });
            } else {
                // Handle cupcakes/cookies flavor-based pricing
                const quantityInputs = productCard.querySelectorAll('.quantity-input');
                let hasQuantity = false;

                quantityInputs.forEach(input => {
                    const quantity = parseInt(input.value) || 0;
                    if (quantity > 0) {
                        hasQuantity = true;
                        const unitPrice = parseFloat(input.dataset.price) || 0;

                        // For cupcakes, calculate per unit, for cakes calculate per cake
                        if (productValue.includes('cupcakes')) {
                            // For cupcakes: price is per batch, but we calculate based on quantity ordered
                            itemTotal += unitPrice;
                        } else {
                            // For cakes: price per individual cake
                            itemTotal += unitPrice * quantity;
                        }
                    }
                });

                // If no quantities selected, use base price
                if (!hasQuantity) {
                    itemTotal = productPrices[productValue] || 0;
                }

                // Add addon pricing from selects
                const selects = productCard.querySelectorAll('.product-select');
                selects.forEach(select => {
                    const selectedOption = select.options[select.selectedIndex];
                    const addonPrice = parseFloat(selectedOption.dataset.price) || 0;

                    // For cupcakes, multiply addon price by quantity of each flavor
                    if (productValue.includes('cupcakes')) {
                        // Count total quantity for this product
                        let totalQuantity = 0;
                        quantityInputs.forEach(input => {
                            totalQuantity += parseInt(input.value) || 0;
                        });

                        if (totalQuantity > 0) {
                            itemTotal += addonPrice;
                        }
                    } else {
                        itemTotal += addonPrice;
                    }
                });
            }

            subtotalElement.textContent = `$${itemTotal.toFixed(2)}`;
        }

        function calculateTotal() {
            let total = 0;

            // Sum up all item subtotals
            document.querySelectorAll('.product-checkbox:checked').forEach(checkbox => {
                const productCard = checkbox.closest('.product-card');
                const subtotalElement = productCard.querySelector('.subtotal-amount');

                if (subtotalElement) {
                    const subtotalText = subtotalElement.textContent.replace('$', '');
                    const subtotal = parseFloat(subtotalText) || 0;
                    total += subtotal;
                }
            });

            document.getElementById('totalAmount').textContent = `$${total.toFixed(2)}`;
        }

        function checkFormCompletion() {
            const requiredFields = document.querySelectorAll('input[required], textarea[required], select[required]');
            const agreement = document.getElementById('agreement');
            const submitBtn = document.getElementById('submitBtn');

            let allFieldsValid = true;

            // Check required fields
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    allFieldsValid = false;
                }
            });

            // Check if at least one product is selected
            const selectedProducts = document.querySelectorAll('.product-checkbox:checked');
            if (selectedProducts.length === 0) {
                allFieldsValid = false;
            }

            // Check agreement
            if (!agreement.checked) {
                allFieldsValid = false;
            }

            // Enable/disable submit button
            submitBtn.disabled = !allFieldsValid;
        }

        function setMinPickupDate() {
            const pickupDate = document.getElementById('pickupDate');
            const today = new Date();
            const minDate = new Date(today.getTime() + (10 * 24 * 60 * 60 * 1000)); // 10 days from now
            pickupDate.min = minDate.toISOString().split('T')[0];
        }

        // Remove JavaScript form handling - let Netlify handle it natively

        function collectFormData() {
            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                pickupDate: document.getElementById('pickupDate').value,
                specialInstructions: document.getElementById('specialInstructions').value,
                products: []
            };

            // Collect product data
            document.querySelectorAll('.product-card').forEach(card => {
                const productName = card.querySelector('.product-name').textContent;
                const quantity = parseInt(card.querySelector('.quantity-input').value) || 0;
                const price = parseFloat(card.querySelector('.product-price').textContent.replace('$', '')) || 0;

                if (quantity > 0) {
                    formData.products.push({
                        name: productName,
                        quantity: quantity,
                        price: price
                    });
                }
            });

            return formData;
        }

        // Initialize subtotals on page load
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.product-card').forEach(card => {
                calculateItemSubtotal(card);
            });

            // Initialize theme and floating buttons
            initializeTheme();
            initializeFloatingButtons();
        });

        // Theme Management
        function initializeTheme() {
            const themeToggle = document.getElementById('themeToggle');
            const currentTheme = localStorage.getItem('theme') || 'light';

            // Set initial theme
            document.documentElement.setAttribute('data-theme', currentTheme);
            updateThemeIcon(currentTheme);

            // Theme toggle event listener
            themeToggle.addEventListener('click', toggleTheme);
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        }

        function updateThemeIcon(theme) {
            const themeToggle = document.getElementById('themeToggle');
            themeToggle.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
        }

        // Floating Buttons Management
        function initializeFloatingButtons() {
            const scrollTopBtn = document.getElementById('scrollTop');

            // Scroll to top functionality
            scrollTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Show/hide scroll to top button based on scroll position
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 100) {
                    scrollTopBtn.classList.add('visible');
                } else {
                    scrollTopBtn.classList.remove('visible');
                }
            });

            // Initial check for scroll position
            if (window.pageYOffset > 100) {
                scrollTopBtn.classList.add('visible');
            }
        }
    </script>

    <!-- Floating Action Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn theme-toggle-btn" id="themeToggle" title="Toggle Dark/Light Mode">
            ðŸŒ™
        </button>
        <button class="floating-btn scroll-top-btn" id="scrollTop" title="Scroll to Top">
            â†‘
        </button>
    </div>
</body>
</html>
